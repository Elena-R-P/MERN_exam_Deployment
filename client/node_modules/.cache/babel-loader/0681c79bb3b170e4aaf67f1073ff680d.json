{"ast":null,"code":"import _defineProperty from\"/home/elena/Documents/Coding/DOJO_ASSIGNMENTS/MERN_Stack/Part4_FullStack/MERN_exam/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/elena/Documents/Coding/DOJO_ASSIGNMENTS/MERN_Stack/Part4_FullStack/MERN_exam/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/elena/Documents/Coding/DOJO_ASSIGNMENTS/MERN_Stack/Part4_FullStack/MERN_exam/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'@reach/router';import axios from'axios';import{navigate}from'@reach/router';import styles from'./Pet.module.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var EditPet=function EditPet(props){var _useState=useState({petName:\"\",type:\"\",description:\"\",skill1:\"\",skill2:\"\",skill3:\"\",likes:0}),_useState2=_slicedToArray(_useState,2),formInfo=_useState2[0],setFormInfo=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];useEffect(function(){axios.get(\"http://localhost:8000/api/pets/\".concat(props.id)).then(function(res){console.log(res);setFormInfo(res.data.results);}).catch(function(err){return console.log(err);});},[]);var updateInfo=function updateInfo(e){e.preventDefault();axios.put(\"http://localhost:8000/api/pets/update/\".concat(props.id),formInfo).then(function(res){console.log(res);if(res.data.errors){setErrors(res.data.errors);}else{navigate(\"/\");}}).catch(function(err){return console.log(err);});};var changeHandler=function changeHandler(e){setFormInfo(_objectSpread(_objectSpread({},formInfo),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[\"Update information about \",formInfo.petName]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Main Page\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:updateInfo,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{onChange:changeHandler,type:\"text\",className:\"form-control\",name:\"petName\",value:formInfo.petName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.petName?errors.petName.message:\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Type\"}),/*#__PURE__*/_jsx(\"input\",{onChange:changeHandler,type:\"text\",className:\"form-control\",name:\"type\",value:formInfo.type}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.type?errors.type.message:\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:changeHandler,type:\"textarea\",className:\"form-control\",name:\"description\",value:formInfo.description}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.description?errors.description.message:\"\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Skill 1 (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{onChange:changeHandler,type:\"text\",className:\"form-control\",name:\"skill1\",value:formInfo.skill1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Skill 2 (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{onChange:changeHandler,type:\"text\",className:\"form-control\",name:\"skill2\",value:formInfo.skill2})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Skill 3 (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{onChange:changeHandler,type:\"text\",className:\"form-control\",name:\"skill3\",value:formInfo.skill3})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add\"})})})]})})]});};export default EditPet;","map":{"version":3,"sources":["/home/elena/Documents/Coding/DOJO_ASSIGNMENTS/MERN_Stack/Part4_FullStack/MERN_exam/client/src/components/EditPet.js"],"names":["React","useState","useEffect","Link","axios","navigate","styles","EditPet","props","petName","type","description","skill1","skill2","skill3","likes","formInfo","setFormInfo","errors","setErrors","get","id","then","res","console","log","data","results","catch","err","updateInfo","e","preventDefault","put","changeHandler","target","name","value","container","message"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Link} from '@reach/router';\nimport axios from 'axios';\nimport {navigate} from '@reach/router';\nimport styles from './Pet.module.css';\n\nconst EditPet = (props) => {\n    const [formInfo, setFormInfo] = useState({\n        petName:\"\",\n        type: \"\",\n        description: \"\",\n        skill1: \"\",\n        skill2: \"\",\n        skill3: \"\",\n        likes: 0,\n    })\n    \n    const [errors, setErrors] = useState({})\n\n    useEffect(()=>{\n        axios.get(`http://localhost:8000/api/pets/${props.id}`)\n            .then(res=>{\n                console.log(res)\n                setFormInfo(res.data.results)\n            })\n            .catch(err=>console.log(err))\n    }, [])\n\n    const updateInfo = (e)=>{\n        e.preventDefault();\n        axios.put(`http://localhost:8000/api/pets/update/${props.id}`, formInfo)\n            .then(res=>{\n                console.log(res)\n                if(res.data.errors){\n                    setErrors(res.data.errors)\n                } else {\n                    navigate(\"/\")\n                }\n                \n            })\n            .catch(err=>console.log(err))\n    }\n\n    const changeHandler = (e) =>{\n        setFormInfo({\n            ...formInfo,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    return (\n        <div className={styles.container}>\n            <div className=\"row\">\n                <div className=\"col\">\n                    <h1>Update information about {formInfo.petName}</h1>\n                </div>\n                <div className=\"col\">\n                    <Link to=\"/\">Main Page</Link>\n                </div>\n            </div>\n            <div className=\"row\">\n                <form onSubmit={updateInfo}>\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <div className=\"mb-3\">\n                                <label className=\"form-label\">Name</label>\n                                <input onChange={changeHandler} type=\"text\" className=\"form-control\" name=\"petName\" value={formInfo.petName}/>\n                                <p className=\"text-danger\">{errors.petName? errors.petName.message: \"\"}</p>\n                            </div>\n                            <div className=\"mb-3\">\n                                <label className=\"form-label\">Type</label>\n                                <input onChange={changeHandler} type=\"text\" className=\"form-control\" name=\"type\" value={formInfo.type}/>\n                                <p className=\"text-danger\">{errors.type? errors.type.message: \"\"}</p>\n                            </div>\n                            <div className=\"mb-3\">\n                                <label className=\"form-label\">Description</label>\n                                <textarea onChange={changeHandler} type=\"textarea\" className=\"form-control\" name=\"description\" value={formInfo.description}/>\n                                <p className=\"text-danger\">{errors.description? errors.description.message: \"\"}</p>\n                            </div>\n                        </div>\n                        <div className=\"col\">\n                            <div className=\"mb-3\">\n                                <label className=\"form-label\">Skill 1 (Optional)</label>\n                                <input onChange={changeHandler} type=\"text\" className=\"form-control\" name=\"skill1\" value={formInfo.skill1}/>\n                            </div>\n                            <div className=\"mb-3\">\n                                <label className=\"form-label\">Skill 2 (Optional)</label>\n                                <input onChange={changeHandler} type=\"text\" className=\"form-control\" name=\"skill2\" value={formInfo.skill2}/>\n                            </div>\n                            <div className=\"mb-3\">\n                                <label className=\"form-label\">Skill 3 (Optional)</label>\n                                <input onChange={changeHandler} type=\"text\" className=\"form-control\" name=\"skill3\" value={formInfo.skill3}/>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"mb-3\">\n                            <button type=\"submit\">Add</button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default EditPet;"]},"metadata":{},"sourceType":"module"}